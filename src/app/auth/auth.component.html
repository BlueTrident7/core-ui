<div class="auth-container">
  <!-- Left Side: Image -->
  <div class="left-side">
    <!-- <img src="assets/backgroung_login1.png" alt="Welcome Image" class="bg-image" /> -->
    <!-- <div class="overlay">
      <h1 class="brand-title">Gladiator</h1>
      <p class="brand-subtitle">Welcome Back</p>
    </div> -->
  </div>

  <!-- Right Side: Form -->
  <div class="right-side">
    <div class="form-card">
      <div class="form-header">
        <h2 *ngIf="isLogin" class="form-title">Welcome Back</h2>
        <h2 *ngIf="!isLogin" class="form-title">Create Account</h2>
        <p *ngIf="isLogin" class="form-subtitle">
          Enter your credentials to access your account
        </p>
        <p *ngIf="!isLogin" class="form-subtitle">
          Sign up to get started with your new account
        </p>
      </div>

      <!-- Login Form -->
      <form
        *ngIf="isLogin"
        [formGroup]="loginForm"
        (ngSubmit)="onLogin()"
        class="auth-form"
      >
        <div class="input-group">
          <input
            type="email"
            formControlName="email"
            placeholder="Enter email"
            class="form-input"
          />
          <div class="error" *ngIf="lf['email'].touched && lf['email'].errors">
            <small *ngIf="lf['email'].errors['required']"
              >Email is required</small
            >
            <small *ngIf="lf['email'].errors['email']"
              >Enter a valid email</small
            >
          </div>
        </div>

        <div class="input-group">
          <input
            type="password"
            formControlName="password"
            placeholder="Enter password"
            class="form-input"
          />
          <div
            class="error"
            *ngIf="lf['password'].touched && lf['password'].errors"
          >
            <small *ngIf="lf['password'].errors['required']"
              >Password is required</small
            >
            <small *ngIf="lf['password'].errors['minlength']"
              >Password must be at least 6 characters</small
            >
          </div>
        </div>

        <a routerLink="/forgot-password" class="forgot-link"
          >Forgot password?</a
        >

        <button type="submit" class="submit-btn" [disabled]="!loginForm.valid">
          {{ loginForm.valid ? "Log In" : "Loading..." }}
        </button>
      </form>

      <!-- Register Form -->
      <form
        *ngIf="!isLogin"
        [formGroup]="registerForm"
        (ngSubmit)="onRegister()"
        class="auth-form"
      >
        <div class="input-group">
          <input
            type="text"
            formControlName="fullName"
            placeholder="Full Name"
            class="form-input"
          />
          <div
            class="error"
            *ngIf="rf['fullName'].touched && rf['fullName'].errors"
          >
            <small *ngIf="rf['fullName'].errors['required']"
              >Full name is required</small
            >
          </div>
        </div>

        <div class="input-group">
          <input
            type="email"
            formControlName="email"
            placeholder="Enter email"
            class="form-input"
          />
          <div class="error" *ngIf="rf['email'].touched && rf['email'].errors">
            <small *ngIf="rf['email'].errors['required']"
              >Email is required</small
            >
            <small *ngIf="rf['email'].errors['email']"
              >Enter a valid email</small
            >
          </div>
        </div>

        <div class="input-group">
          <input
            type="password"
            formControlName="password"
            placeholder="Enter password"
            class="form-input"
          />
          <div
            class="error"
            *ngIf="rf['password'].touched && rf['password'].errors"
          >
            <small *ngIf="rf['password'].errors['required']"
              >Password is required</small
            >
            <small *ngIf="rf['password'].errors['minlength']"
              >Password must be at least 6 characters</small
            >
          </div>
        </div>

        <div class="input-group">
          <input
            type="password"
            formControlName="confirmPassword"
            placeholder="Confirm password"
            class="form-input"
          />
          <div
            class="error"
            *ngIf="rf['confirmPassword'].touched && registerForm.errors?.['mismatch']"
          >
            <small>Passwords do not match</small>
          </div>
        </div>

        <div class="input-group checkbox-group">
          <label class="checkbox-label">
            <input
              type="checkbox"
              formControlName="termsAccepted"
              class="checkbox-input"
            />
            <span class="checkmark"></span>
            I agree to the
            <a (click)="showTermsModal = true" class="terms-link">
              Terms and Conditions</a
            >
          </label>
          <div
            class="error"
            *ngIf="rf['termsAccepted'].touched && rf['termsAccepted'].errors"
          >
            <small>You must accept the terms and conditions</small>
          </div>
        </div>

        <button
          type="submit"
          class="submit-btn"
          [disabled]="!registerForm.valid"
        >
          {{ registerForm.valid ? "Sign Up" : "Loading..." }}
        </button>
      </form>

      <!-- Social Login Buttons -->
      <!-- <div class="social-login" *ngIf="isLogin">
        <p class="divider">Or sign in with</p>
        <button type="button" class="social-btn google" (click)="onSocialLogin('google')">
          <img src="assets/google-icon.png" alt="Google" /> Sign in with Google
        </button>
        <button type="button" class="social-btn apple" (click)="onSocialLogin('apple')">
          <img src="assets/apple-icon.png" alt="Apple" /> Sign in with Apple
        </button>
      </div> -->

      <!-- Toggle Link -->
      <div class="toggle-link">
        <p *ngIf="isLogin">
          Don't have an account?
          <button type="button" (click)="toggleAuth()" class="link-btn">
            Sign up
          </button>
        </p>
        <p *ngIf="!isLogin">
          Already have an account?
          <button type="button" (click)="toggleAuth()" class="link-btn">
            Log in
          </button>
        </p>
      </div>
    </div>
  </div>

  <!-- Terms Modal -->
  <div
    *ngIf="showTermsModal"
    class="modal-overlay"
    (click)="showTermsModal = false"
  >
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>Terms and Conditions</h3>
        <button
          type="button"
          class="close-btn"
          (click)="showTermsModal = false"
        >
          &times;
        </button>
      </div>
      <div class="modal-body">
        <iframe
          src="assets/TermsCondition.pdf"
          width="100%"
          height="500px"
          frameborder="0"
        ></iframe>
      </div>
    </div>
  </div>
</div>
