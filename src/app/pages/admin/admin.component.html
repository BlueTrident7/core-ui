<div class="admin-container">
  <p-tabView [(activeIndex)]="activeIndex" (onChange)="onTabChange($event)">
    <p-tabPanel header="Overview" leftIcon="pi pi-home">
      <div class="stats-grid">
        @for (stat of stats; track stat.title) {
          <p-card header="{{ stat.title }}" subheader="{{ stat.value }}">
            <i class="pi {{ stat.icon }}" style="font-size: 2rem; color: var(--primary-color);"></i>
          </p-card>
        }
      </div>
    </p-tabPanel>

    <p-tabPanel header="Investment Plan" leftIcon="pi pi-chart-line">
      <p-table [value]="investmentPlans" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Amount</th>
            <th>Duration</th>
            <th>Return Rate</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-plan>
          <tr>
            <td>{{ plan.id }}</td>
            <td>{{ plan.name }}</td>
            <td>${{ plan.amount }}</td>
            <td>{{ plan.duration }}</td>
            <td>{{ plan.returnRate }}%</td>
            <td>{{ plan.status }}</td>
            <td>
              <p-button icon="pi pi-pencil" class="p-button-rounded p-button-success p-button-text" pTooltip="Edit" tooltipPosition="top"></p-button>
              <p-button icon="pi pi-trash" class="p-button-rounded p-button-danger p-button-text" pTooltip="Delete" tooltipPosition="top"></p-button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>

    <p-tabPanel header="Category" leftIcon="pi pi-tags">
      <p-table [value]="categories" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Description</th>
            <th>Type</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-category>
          <tr>
            <td>{{ category.id }}</td>
            <td>{{ category.name }}</td>
            <td>{{ category.description }}</td>
            <td>{{ category.type }}</td>
            <td>
              <p-button icon="pi pi-pencil" class="p-button-rounded p-button-success p-button-text" pTooltip="Edit" tooltipPosition="top"></p-button>
              <p-button icon="pi pi-trash" class="p-button-rounded p-button-danger p-button-text" pTooltip="Delete" tooltipPosition="top"></p-button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>

    <p-tabPanel header="Logs" leftIcon="pi pi-history">
      <p-table [value]="logs" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>User</th>
            <th>Action</th>
            <th>Timestamp</th>
            <th>Details</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-log>
          <tr>
            <td>{{ log.id }}</td>
            <td>{{ log.user }}</td>
            <td>{{ log.action }}</td>
            <td>{{ log.timestamp }}</td>
            <td>{{ log.details }}</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
  </p-tabView>
</div>
